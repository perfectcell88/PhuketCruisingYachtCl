<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8" />
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1" />
Â  Â  <title>Phuket Cruising Yacht Club</title>

Â  Â  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet" />
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Sail&display=swap" rel="stylesheet" />
Â  Â  <link rel="stylesheet" href="style (2).css" /> Â  Â  <style>
Â  Â  Â  Â  /* Inline fallback & critical styles */

Â  Â  Â  Â  /* Reset & base styles */
Â  Â  Â  Â  body, html {
Â  Â  Â  Â  Â  Â  margin: 0; padding: 0; height: 100%; /* Keep full height */
Â  Â  Â  Â  Â  Â  /* REMOVED overflow: hidden; from here, it will be on the main-content-wrapper */
Â  Â  Â  Â  Â  Â  background: linear-gradient(270deg, #000c1a, #051422, #1a1f36, #0d1321);
Â  Â  Â  Â  Â  Â  background-size: 800% 800%;
Â  Â  Â  Â  Â  Â  animation: gradientShift 40s ease infinite;
Â  Â  Â  Â  Â  Â  font-family: 'Playfair Display', serif;
Â  Â  Â  Â  Â  Â  color: #f9d976;
Â  Â  Â  Â  Â  Â  user-select: none;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  cursor: url('Anchor.cur'), auto;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes gradientShift {
Â  Â  Â  Â  Â  Â  0%Â  Â { background-position: 0% 50%; }
Â  Â  Â  Â  Â  Â  50%Â  { background-position: 100% 50%; }
Â  Â  Â  Â  Â  Â  100% { background-position: 0% 50%; }
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Loading overlay */
Â  Â  Â  Â  #loading-overlay {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 0; left: 0; right: 0; bottom: 0;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  z-index: 9999;
Â  Â  Â  Â  Â  Â  pointer-events: all;
Â  Â  Â  Â  Â  Â  background: rgba(0,12,26,0.85);
Â  Â  Â  Â  Â  Â  opacity: 1;
Â  Â  Â  Â  Â  Â  transition: opacity 1s ease;
Â  Â  Â  Â  }
Â  Â  Â  Â  #loading-overlay.fade-out {
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  #loading-overlay::before {
Â  Â  Â  Â  Â  Â  content: "";
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  width: 200px; height: 200px;
Â  Â  Â  Â  Â  Â  background: radial-gradient(circle, rgba(249,217,118,0.1), transparent 70%);
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  animation: ripple 2.5s ease-out infinite;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes ripple {
Â  Â  Â  Â  Â  Â  0%Â  Â { transform: scale(1);Â  opacity: 1; }
Â  Â  Â  Â  Â  Â  100% { transform: scale(2.5); opacity: 0; }
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Loading logo and spinner */
Â  Â  Â  Â  #loading-logo-circle-wrapper {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  width: 200px;
Â  Â  Â  Â  Â  Â  height: 200px;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  #loading-logo {
Â  Â  Â  Â  Â  Â  width: 200px;
Â  Â  Â  Â  Â  Â  height: 200px;
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  filter: drop-shadow(0 0 8px #f9d976);
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  animation: logoPop 0.8s ease-out forwards 0.3s;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  z-index: 2;
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes logoPop {
Â  Â  Â  Â  Â  Â  from { opacity: 0; transform: scale(0.8); }
Â  Â  Â  Â  Â  Â  toÂ  Â { opacity: 1; transform: scale(1); }
Â  Â  Â  Â  }
Â  Â  Â  Â  #loading-circle {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 0; left: 0;
Â  Â  Â  Â  Â  Â  width: 200px;
Â  Â  Â  Â  Â  Â  height: 200px;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  Â  Â  z-index: 1;
Â  Â  Â  Â  Â  Â  animation: spin 1.6s linear infinite;
Â  Â  Â  Â  Â  Â  filter: drop-shadow(0 0 8px #f9d976);
Â  Â  Â  Â  }
Â  Â  Â  Â  #loading-circle.fade-out {
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  }
Â  Â  Â  Â  #loading-circle svg {
Â  Â  Â  Â  Â  Â  width: 200px;
Â  Â  Â  Â  Â  Â  height: 200px;
Â  Â  Â  Â  Â  Â  transform-origin: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes spin {
Â  Â  Â  Â  Â  Â  100% { transform: rotate(360deg); }
Â  Â  Â  Â  }
Â  Â  Â  Â  #loading-circle circle.base {
Â  Â  Â  Â  Â  Â  stroke: #333; stroke-width: 12; fill: none; opacity: 0.2;
Â  Â  Â  Â  }
Â  Â  Â  Â  #loading-circle circle.progress {
Â  Â  Â  Â  Â  Â  stroke: #f9d976; stroke-width: 12; fill: none;
Â  Â  Â  Â  Â  Â  stroke-linecap: round; stroke-dasharray: 283; stroke-dashoffset: 283;
Â  Â  Â  Â  Â  Â  transition: stroke-dashoffset 0.25s ease;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Specific styles for Captain's Dashboard widgets to ensure they fit */
Â  Â  Â  Â  /* These were from the old structure, will be overridden by style.css */
Â  Â  Â  Â  Â .captain-dashboard {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  gap: 20px; /* Space between widgets */
Â  Â  Â  Â  Â  Â  padding: 25px;
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  backdrop-filter: blur(10px);
Â  Â  Â  Â  Â  Â  background: rgba(0, 0, 0, 0.3); /* Slightly darker for better contrast */
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(249, 217, 118, 0.2);
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
Â  Â  Â  Â  Â  Â  margin-top: 40px; /* Add some space from content above */
Â  Â  Â  Â  }

Â  Â  Â  Â  .captain-widget {
Â  Â  Â  Â  Â  Â  background: rgba(0, 0, 0, 0.4);
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(249, 217, 118, 0.1);
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  box-shadow: inset 0 0 5px rgba(249, 217, 118, 0.1);
Â  Â  Â  Â  Â  Â  color: #fff; /* Ensure text is visible */
Â  Â  Â  Â  }

Â  Â  Â  Â  .captain-widget h4 {
Â  Â  Â  Â  Â  Â  color: #f9d976;
Â  Â  Â  Â  Â  Â  margin-top: 0;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  Â  Â  font-size: 1.3em;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Specific styles for weather widget elements */
Â  Â  Â  Â  /* These were from the old structure, will be removed from style.css */
Â  Â  Â  Â  #weather-widget {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .weather-current {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  gap: 15px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .weather-icon {
Â  Â  Â  Â  Â  Â  width: 60px; /* Adjusted size */
Â  Â  Â  Â  Â  Â  height: 60px; /* Adjusted size */
Â  Â  Â  Â  Â  Â  filter: drop-shadow(0 0 5px rgba(249,217,118,0.5));
Â  Â  Â  Â  }

Â  Â  Â  Â  .weather-details {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: flex-start; /* Align text to the left */
Â  Â  Â  Â  }

Â  Â  Â  Â  .weather-temp {
Â  Â  Â  Â  Â  Â  font-size: 2.2em; /* Larger temp */
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  color: #ffe57f;
Â  Â  Â  Â  }

Â  Â  Â  Â  .weather-description {
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  text-transform: capitalize;
Â  Â  Â  Â  Â  Â  color: #ccc;
Â  Â  Â  Â  }

Â  Â  Â  Â  .weather-location {
Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  Â  Â  color: #aaa;
Â  Â  Â  Â  }

Â  Â  Â  Â  .weather-info {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-around;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  Â  Â  color: #ccc;
Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  }

Â  Â  Â  Â  .error-message {
Â  Â  Â  Â  Â  Â  color: #ff6b6b;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Sun & Moon Widget Styles (minimal, as per existing content) */
Â  Â  Â  Â  /* These were from the old structure, will be removed from style.css */
Â  Â  Â  Â  #sun-moon-widget {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  #sun-moon-widget .time-info {
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  color: #ffe57f;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  }
Â  Â  Â  Â  #sun-moon-widget .phase-info {
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  color: #ccc;
Â  Â  Â  Â  }
Â  Â  Â  Â  #sun-moon-widget .phase-icon {
Â  Â  Â  Â  Â  Â  font-size: 2em; /* Larger icon for visibility */
Â  Â  Â  Â  Â  Â  color: #f9d976;
Â  Â  Â  Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* General glass-widget inherited styles */
Â  Â  Â  Â  .glass-widget {
Â  Â  Â  Â  Â  Â  padding: 25px;
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  backdrop-filter: blur(10px);
Â  Â  Â  Â  Â  Â  background: rgba(0, 0, 0, 0.3); /* Slightly darker for better contrast */
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(249, 217, 118, 0.2);
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
Â  Â  Â  Â  Â  Â  margin: 20px auto;
Â  Â  Â  Â  Â  Â  max-width: 800px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .widget-title {
Â  Â  Â  Â  Â  Â  color: #f9d976;
Â  Â  Â  Â  Â  Â  font-size: 2.2em;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  }

Â  Â  Â  Â  .widget-description {
Â  Â  Â  Â  Â  Â  color: #ccc;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes fadeIn {
Â  Â  Â  Â  Â  Â  to {
Â  Â  Â  Â  Â  Â  Â  Â  opacity: 1;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <div id="fb-root"></div>
Â  Â  <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v22.0"></script>

Â  Â  <div id="loading-overlay" role="alert" aria-live="polite" aria-busy="true">
Â  Â  Â  Â  <div id="loading-logo-circle-wrapper" aria-hidden="true">
Â  Â  Â  Â  Â  Â  <img id="loading-logo" src="logob.png" alt="Phuket Cruising Yacht Club Logo" />
Â  Â  Â  Â  Â  Â  <div id="loading-circle" aria-hidden="true">
Â  Â  Â  Â  Â  Â  Â  Â  <svg viewBox="0 0 100 100" role="img" aria-hidden="true" >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <defs>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <linearGradient id="loading-gradient" x1="1" y1="0" x2="0" y2="1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <stop offset="0%" stop-color="#f9d976"/>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <stop offset="50%" stop-color="#ffe57f"/>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <stop offset="100%" stop-color="#f9d976"/>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </linearGradient>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </defs>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <circle class="base"Â  Â  cx="50" cy="50" r="45" />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <circle class="progress" cx="50" cy="50" r="45" stroke="url(#loading-gradient)"/>
Â  Â  Â  Â  Â  Â  Â  Â  </svg>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="threejs-background"></div>

Â  Â  <div id="page-content" aria-hidden="true">
Â  Â  Â  Â  <div id="main-scrollable-content-wrapper">
Â  Â  Â  Â  Â  Â  <div class="home-content" id="home">
Â  Â  Â  Â  Â  Â  Â  Â  <img src="logob.png" alt="Phuket Cruising Yacht Club Logo" class="main-logo">
Â  Â  Â  Â  Â  Â  Â  Â  <h1 class="home-title">Phuket Cruising Yacht Club</h1>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="particles-container" id="particles-container"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <p style="
Â  Â  font-family: 'Sail', cursive;
Â  Â  font-size: 32px;
Â  Â  font-weight: 600;
Â  Â  background: linear-gradient(45deg, #004466, #00bcd4);
Â  Â  -webkit-background-clip: text;
Â  Â  -webkit-text-fill-color: transparent;
Â  Â  text-shadow: 1px 1px 3px rgba(0,0,0,0.4);
Â  Â  margin-top: 40px;
Â  Â  animation: fadeIn 2s ease-in-out forwards;
Â  Â  opacity: 0;
">Â 
Â  Â  The Islands Premier Yacht Club
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <br>
</p>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="intro-text">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>The fastest growing Yacht Club in Phuket - With a simple mission: to Inform & Entertain you.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Enjoy Ice Cold Beer, Great Food & Atmosphere. Meet world cruisers & salty expats.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Phuket Cruising Yacht Club - Where our Guests pay the same low prices as Members!</p>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <p><a href="https://www.facebook.com/groups/187918071231247" target="_blank" class="event-link">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/2021_Facebook_icon.svg/800px-2021_Facebook_icon.svg.png" alt="Facebook" class="facebook-logo">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Follow us to keep up to date with our Events & Community!
Â  Â  Â  Â  Â  Â  Â  Â  </a></p>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="fb-page" data-href="https://www.facebook.com/groups/187918071231247" data-tabs="timeline" data-width="360" data-height="400" data-small-header="true" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true"></div>
<div style="height: 80px;"></div>

                <div id="about-pcyc" class="content-section">
                    <div class="glass-card full-width-card">
                        <h2>Welcome to the Phuket Cruising Yacht Club!</h2>
                        <p>Established seven years ago by Captain and founder Brent McInnes, the Phuket Cruising Yacht Club (PCYC) is meticulously designed to be your ultimate home base in the stunning waters of Phuket. Our commitment is to inform, entertain, and ensure every guest, member or not, experiences the same exceptional value and access to our extensive services.</p>
                        <p>We have continually evolved, now proudly offering a comprehensive suite of maritime services, including specialized brokerage & charter solutions, and even an in-house law office to support your journey.</p>

                        <h3 class="section-sub-title">Your Unforgettable Stay & Essential Amenities</h3>
                        <p>Experience true convenience with our range of rentals, including motorcycles, cars, charming bungalows, agile RIBs, dependable tender outboard engines, and dinghies. Rest assured, your dinghy will be secure on our flood-lit dinghy lines directly in front of the clubhouse. Our refreshing showers are open to all, complemented by ample charging outlets for your devices. For those seeking to master the seas, our accredited AYS sailing school actively provides top-tier training in both sailing and powerboat seamanship.</p>

                        <h3 class="section-sub-title">Streamlined Port & Specialized Services</h3>
                        <p>As an authorized port-entrance agent and a trusted Royal Thai Customs yacht visa extension service provider, PCYC dramatically simplifies your check-in/check-out processes with Immigration. We expertly handle customs accreditation and extensions for your vessel, with most boats receiving a standard six-month stay upon arrival, extendable for an additional six months before departure is required.</p>
                        <p>We are the island's premier full-service yacht club, proudly offering:</p>
                        <ul class="service-list">
                            <li>Thai Customs Visa Extensions</li>
                            <li>Brokerage & Yacht Charter Services</li>
                            <li>Marine Salvage Operations</li>
                            <li>Dedicated Law Office</li>
                            <li>Second-Hand Boat Parts & Equipment Sales</li>
                            <li>Comprehensive Boat Minding (Basic Care)</li>
                            <li>Rental Services: Cars, Bikes, RIBs, Beach Bungalows</li>
                            <li>Exclusive Access to Preferred Contractors</li>
                        </ul>
                        <p>Captain Brent remains your trusted contact, always just a phone call away for unparalleled assistance.</p>

                        <h3 class="section-sub-title">Vibrant Club Life & Exquisite Dining</h3>
                        <p>Our newly renovated clubhouse, boasting stunning new beach decks, welcomes you from 8 AM until late. Immerse yourself in our lively Happy Hour from 5-7 PM, featuring reduced prices on alcoholic beverages. Our full-service bar takes pride in crafting the PCYC's signature Margarita from scratch, alongside classic Bloody Marys and a wide selection of premium local and imported beers. At PCYC, you'll find the perfect blend of ice-cold beer, delectable cuisine, and the opportunity to connect with seasoned world cruisers and engaging expats. Our well-traveled bar manager, Yai, possesses an invaluable wealth of local insights.</p>
                        <p>Indulge in Captain Brent's delicious menu, a harmonious blend of authentic Thai and comforting Western-style dishes, with a particular specialization in Tex-Mex favorites like quesadillas, nachos, and tacos. Begin your day with our delightful Eggs Benedict and freshly ground coffee, or savor our world-class fish and chips & hamburgers. Every dish is proudly MSG-free. For your convenience, we also offer charming waterfront bungalows for rent and reliable Wi-Fi access. Complimentary Phuket Tide Tables, local marine guides, and magazines are readily available.</p>

                        <h4 class="event-highlight">Taco Tuesday: An Unmissable Event!</h4>
                        <p>Everyone's favorite night is back! Taco Tuesday at the Phuket Cruising Yacht Club Chalong is in full swing. Revel in cheap Tex-Mex & pizza, just 50 baht for Gin and Rum, and a refreshing 80 baht for frozen Margaritas. Join us for captivating music, vibrant drinks, cold beer, and an exciting T-shirt lotto, every Tuesday on the beach at Chalong, conveniently located next to Arch 39 hotel. We look forward to seeing you around sunset until late!</p>

                        <h3 class="section-sub-title">Dynamic Music & Memorable Events</h3>
                        <p>The PCYC is equipped with a professional PA system, mixing board, and mic stands, enthusiastically encouraging yachties to showcase their musical talents. We are thrilled to frequently feature exceptional local entertainers, including the talented Gene Neilson. Our clubhouse is offered free of charge to both members and guests as an ideal party venue, providing flexible catering options or the freedom to bring your own food while we expertly manage the bar. We can comfortably accommodate up to 100 guests and hold a 2 AM closing license, ensuring your events are truly unforgettable.</p>

                        <h3 class="section-sub-title">Membership & Exclusive Benefits</h3>
                        <p>At PCYC, we foster an exceptionally welcoming atmosphere where both members and non-members enjoy the same advantageous pricing. This philosophy has cultivated a large, loyal expat following and a diverse community of over 100 members, ranging from influential oil tycoons to intrepid sea gypsies. Khun Thitti, a distinguished retired Bangkok lawyer and our esteemed co-founder, is frequently at the clubhouse, always available to offer invaluable sound advice.</p>
                        <p>We provide extended-period boat minding services, offering "basic care" for just Bt2,000 per month. This includes diligent daily checks of mooring lines, waterline, and companionway, a service highly endorsed by numerous insurance companies.</p>
                        <p>The recent installation of new storm-water culverts in Chalong has significantly enhanced our beach, creating pristine sandy areas perfectly suited for beaching catamarans and powerboats for essential maintenance. Our reception is charmingly headed by our resident black poodle, Teddy, accompanied by three friendly soi dogs and our beloved large boat cat, Meow Yai.</p>
                        <p>Annual membership is an incredible value at just Bt3,000, commencing from your sign-up date, and includes a personalized photo ID, a stylish club t-shirt, and an exclusive stickerâ€”all with absolutely no joiner's fee. We provide full-yacht service and leverage our extensive local knowledge to expertly assist with cruising grounds navigation and meticulous yacht maintenance.</p>
                        <p>Stay tuned for our thrilling upcoming twilight race series! PCYC members are also cordially invited to participate in the prestigious Phuket Yacht Club (PYC) race series. The most effective way to stay informed and connected is to request to join our active Facebook group.</p>

                        <h4 class="section-sub-title">Exclusive Member Discounts</h4>
                        <p>Unlock significant savings and unparalleled value with your PCYC membership, including:</p>
                        <ul class="discount-list">
                            <li><strong>15% off</strong> at Rolly Tasker (exclusive club promotion)</li>
                            <li><strong>20% off</strong> haul-outs and hard-stand work at Ratanachai shipyard</li>
                            <li><strong>20% discount</strong> on marina berths and F&B at Royal Langkawi Yacht Club (reciprocated by PCYC)</li>
                            <li>Exclusive discounts at major Phuket chandleries such as AME Marine, Tops Marine, and Surapol</li>
                            <li>Up to <strong>20% off</strong> oil-belts, filters, tools, and diesel algae killer at Chao Fa East Auto Parts</li>
                            <li><strong>15% off</strong> at Aqua Master Chalong</li>
                        </ul>
                        <p>Visit our website for a continuously updated, comprehensive list of growing member discounts!</p>
                    </div>
                </div>
                <div class="glass-box">
Â  Â  <div class="captain-header">- Phuket Maritime Dashboard -</div>
Â  Â  <div class="wave-underline"></div>
Â  Â  <div class="captain-subtitle">Live Weather Alerts, Wind, Sea Conditions, Tides, UV Index & Moon Phases</div>
Â  Â  <div class="live-pulse"><div class="live-dot"></div>LIVE</div>
</div>

<div class="widget-grid">

<div class="captain-widget">
  <h4>ğŸŒ¬ï¸ Wind Forecast (Phuket)</h4>
  <iframe 
    src="https://embed.windy.com/embed2.html?lat=7.880&lon=98.389&zoom=9&level=surface&overlay=wind&menu=&message=&marker=&calendar=now&type=map&location=coordinates&metricWind=kt&metricTemp=Â°C" 
    frameborder="0" 
    width="100%" 
    height="250">
  </iframe>
</div>

<div class="captain-widget">
  <h4>ğŸŒ¤ï¸ Weather Forecast (Phuket)</h4>
  <iframe 
    src="https://www.meteoblue.com/en/weather/widget/daily/phuket_thailand_1151254?geoloc=fixed&days=5&tempunit=CELSIUS&windunit=KNOT&layout=image" 
    frameborder="0" 
    scrolling="no" 
    width="100%" 
    height="250">
  </iframe>
</div>

<div class="captain-widget">
  <h4>ğŸŒ§ï¸ Weather Radar (Phuket)</h4>
  <iframe
    src="https://embed.windy.com/embed2.html?lat=7.888&lon=98.392&zoom=7&overlay=radar&menu=&message=&marker=&calendar=now&type=map&location=coordinates"
    frameborder="0"
    width="100%"
    height="250"
    style="border:none; overflow:hidden;"
    allowtransparency="true"
  ></iframe>
</div>

<div class="captain-widget">
  <h4>ğŸ”† UV Index (Phuket)</h4>
  <iframe
    src="https://embed.windy.com/embed2.html?lat=7.729&lon=98.138&zoom=9&level=surface&overlay=uvindex&menu=&message=true&marker=&calendar=now&type=map&location=coordinates&metricWind=default&metricTemp=default&radarRange=-1"
    width="100%"
    height="300"
    frameborder="0"
    scrolling="no"
    style="border:none; overflow:hidden;"
  ></iframe>
</div>

<div class="captain-widget">
  <h4>ğŸš¢ Live Ship Tracker</h4>
  <iframe 
    src="https://www.marinetraffic.com/en/ais/embed/zoom:10/centery:7.880/centerx:98.389/maptype:1/shownames:false/mmsi:0" 
    frameborder="0" 
    width="100%" 
    height="300">
  </iframe>
</div>

<div class="captain-widget">
  <h4>ğŸŒ¡ï¸ Sea Surface Temperature (Phuket)</h4>
  <iframe
    src="https://embed.windy.com/embed2.html?lat=7.582&lon=98.135&zoom=9&level=surface&overlay=sst&menu=&message=true&marker=&calendar=now&type=map&location=coordinates&metricWind=default&metricTemp=default&radarRange=-1"
    width="100%"
    height="300"
    frameborder="0"
    scrolling="no"
    style="border:none; overflow:hidden;"
  ></iframe>
</div>

<div class="captain-widget">
  <h4>ğŸŒŠ Tide Info (Phuket)</h4>
  <iframe 
    src="https://marea.ooo/en/widget/7.8465199/98.3344152?padding=m&components=text%2Cchart&background=transparent&theme=dark" 
    style="background-color: #232629; border: none;" 
    width="100%" 
    height="300" 
    allow="geolocation">
  </iframe>
</div>

<div class="captain-widget">
  <h4>â›½ Fuel Docks Around Phuket</h4>
  <iframe 
    src="https://www.google.com/maps/d/embed?mid=1TleOY4hTm89B9cThLBdIYN_ZXpvgaFg&ehbc=2E312F&noprof=1" 
    width="100%" 
    height="300" 
    style="border:0;" 
    allowfullscreen 
    loading="lazy">
  </iframe>
</div>

<div class="captain-widget" style="text-align:center; width: 300px; margin: 0 auto;">
  <h4>ğŸŒ• Moon Phase</h4>
  <a target="_blank" style="text-decoration:none;" href="https://moonphase.guide/">
    <img 
      src="https://moonphase.guide/module/MWE5MNnJyNWRtZlJlTTY1Uk9LQ2h0V1gydEVwbkRkS0QrLzBEaDRCeC9TbEhVUklsWVJlWHNEOG9uOGhINXhvc3Jid2FacjA4alVSL1ZlRWxVTzg4ZGc9PQ.png" 
      alt="Moon Phase" 
      style="width: 300px; height: 300px; object-fit: contain; display: block; margin: 0 auto;" 
      border="0" 
    />
  </a>
</div>


            <section id="about" class="content-section">
                <div class="content-container">
                    <div class="close-btn" data-target="about"></div>
                    <img src="logob.png" alt="Phuket Cruising Yacht Club Logo" class="section-logo">
                    <h2>About Us</h2>
                    <p>The fastest growing Yacht Club. Our master plan: Inform & entertain you. It's your home base in Phuket - you're always welcome at the PHUKET CRUISING YACHT CLUB.</p>
                    <p>We also enjoy Ice Cold Beer, Great Food & the opportunity to meet & chat with world cruisers, salty expats & enthusiasts.</p>
                    <p>Here at the PCYC, our Guests pay the same low prices as our Members!</p>
                    <p>The PCYC is the island's full service Yacht Club, providing a welcoming atmosphere for sailors and enthusiasts alike.</p>
                </div>
            </section>

            <section id="services" class="content-section">
                <div class="content-container">
                    <div class="close-btn" data-target="services"></div>
                    <img src="logob.png" alt="Phuket Cruising Yacht Club Logo" class="section-logo">
                    <h2>Our Services</h2>
                    <p>At Phuket Cruising Yacht Club, we offer a comprehensive range of services to meet all your sailing needs:</p>
                    <ul>
                        <li>Thai Customs Visa Extensions</li>
                        <li>Brokerage</li>
                        <li>Charter</li>
                        <li>Salvage</li>
                        <li>Law Office</li>
                        <li>Second Hand Boat Parts For Sale</li>
                        <li>Boat Minding</li>
                        <li>Rental of Cars, Bikes, RIBs</li>
                        <li>Beach Bungalows</li>
                        <li>Preferred Contractors</li>
                        <li>Mooring Services</li>
                    </ul>
                </div>
            </section>

            <section id="accommodation" class="content-section">
                <div class="content-container">
                    <div class="close-btn" data-target="accommodation"></div>
                    <img src="logob.png" alt="Phuket Cruising Yacht Club Logo" class="section-logo">
                    <h2>Accommodation</h2>
                    <p>Experience the beauty of Phuket with our comfortable beach bungalows, perfect for sailors and visitors alike.</p>

                    <div class="accommodation-grid">
                        <div class="bungalow-card">
                            <img src="images/sailboat-414509_1280.jpg" alt="Standard Bungalow" class="bungalow-img">
                            <div class="bungalow-info">
                                <h3 class="bungalow-title">Standard Bungalow</h3>
                                <p class="bungalow-price">From à¸¿1,500 per night</p>
                                <p class="bungalow-desc">Comfortable beachfront bungalow with all essential amenities, perfect for couples or solo travelers.</p>
                                <a href="#contact" class="book-btn">Inquire Now</a>
                            </div>
                        </div>

                        <div class="bungalow-card">
                            <img src="images/beautiful-woman-yacht-swimwear.jpg" alt="Deluxe Bungalow" class="bungalow-img">
                            <div class="bungalow-info">
                                <h3 class="bungalow-title">Deluxe Bungalow</h3>
                                <p class="bungalow-price">From à¸¿2,500 per night</p>
                                <p class="bungalow-desc">Spacious bungalow with premium amenities and stunning ocean views, ideal for extended stays.</p>
                                <a href="#contact" class="book-btn">Inquire Now</a>
                            </div>
                        </div>

                        <div class="bungalow-card">
                            <img src="images/75380478_10156391073797175_4972174924367003648_n.jpg" alt="Family Bungalow" class="bungalow-img">
                            <div class="bungalow-info">
                                <h3 class="bungalow-title">Family Bungalow</h3>
                                <p class="bungalow-price">From à¸¿3,500 per night</p>
                                <p class="bungalow-desc">Large bungalow with multiple rooms, perfect for families or groups of friends enjoying Phuket together.</p>
                                <a href="#contact" class="book-btn">Inquire Now</a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="gallery" class="content-section">
                <div class="content-container">
                    <div class="close-btn" data-target="gallery"></div>
                    <img src="logob.png" alt="Phuket Cruising Yacht Club Logo" class="section-logo">
                    <h2>Gallery</h2>
                    <p>Explore the beauty of our vibrant community & the Phuket Cruising Yacht Club through our gallery.</p>
                    <div id="gallery-container" class="gallery-grid">
                    </div>
                </div>
            </section>

            <section id="contact" class="content-section">
                <div class="content-container">
                    <div class="close-btn" data-target="contact"></div>
                    <img src="logob.png" alt="Phuket Cruising Yacht Club Logo" class="section-logo">
                    <h2>Contact Us</h2>
                    <p>We'd love to hear from you! Whether you're interested in membership, have questions about our services, or just want to learn more about the Phuket Cruising Yacht Club.</p>

                    <div class="contact-form">
                        <form id="contact-form">
                            <div class="form-group">
                                <label for="name">Name</label>
                                <input type="text" id="name" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" id="email" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="subject">Subject</label>
                                <input type="text" id="subject" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="message">Message</label>
                                <textarea id="message" class="form-control" rows="5" required></textarea>
                            </div>
                            <button type="submit" class="submit-btn">Send Message</button>
                        </form>
                        <div class="form-success">Your message has been sent successfully! We'll get back to you soon.</div>
                    </div>
                    <p>Connect with us on <a href="https://www.facebook.com/groups/187918071231247" target="_blank" style="color: #f9d976; text-decoration: none;">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/2021_Facebook_icon.svg/800px-2021_Facebook_icon.svg.png" alt="Facebook" class="facebook-logo">
                        Facebook
                    </a> or visit us in person at our club in Phuket.</p>
                </div>
            </section>
        </div>
    </div>
    <button class="mobile-menu-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
    </button>

    <div class="nav-container">
        <nav>
            <img src="logob.png" alt="Phuket Cruising Yacht Club" class="nav-logo">
            <div class="nav-links">
                <a href="#home" class="nav-link">HOME</a>
                <a href="#about" class="nav-link">ABOUT</a>
                <a href="#services" class="nav-link">SERVICES</a>
                <a href="#accommodation" class="nav-link">ACCOMMODATION</a>
                <a href="#gallery" class="nav-link">GALLERY</a>
                <a href="#contact" class="nav-link">CONTACT</a>
            </div>
            <a href="https://www.facebook.com/groups/187918071231247" target="_blank" class="social-icon">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/2021_Facebook_icon.svg/800px-2021_Facebook_icon.svg.png" alt="Facebook" class="facebook-logo">
            </a>
        </nav>
    </div>
    <script type="module">
        import * as THREE from './js/three.module.js';
        import { OrbitControls } from './js/controls/OrbitControls.js';
        import { Water } from './js/objects/Water.js';
        import { Sky } from './js/objects/Sky.js';

        const overlay = document.getElementById('loading-overlay');
        const prog = document.querySelector('#loading-circle circle.progress');
        const spinner = document.getElementById('loading-circle');
        const pageContent = document.getElementById('page-content'); // This is now the scrollable wrapper
        const mainScrollableContentWrapper = document.getElementById('main-scrollable-content-wrapper'); // New ID for content
        const navContainer = document.querySelector('.nav-container');
        const homeContent = document.querySelector('.home-content');
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        // IMPORTANT: In your script.js you sent earlier, this variable was named navLinksContainer.
        // I am correcting it here to match the variable name used throughout the script.js file.
        const navLinksContainer = document.querySelector('.nav-links'); // Corrected variable name
        let progress = 0;

        // Mobile menu toggle
        // Added checks for existence before adding event listener
        if (mobileMenuBtn && navLinksContainer) { // Check if both elements exist
            mobileMenuBtn.addEventListener('click', () => {
                navLinksContainer.classList.toggle('open');
            });
        }

        // Handle navigation
        const navLinkElements = document.querySelectorAll('.nav-link');
        const contentSections = document.querySelectorAll('.content-section');

        navLinkElements.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').substring(1);

                if (navLinksContainer) { // Check if navLinksContainer exists
                    navLinksContainer.classList.remove('open');
                }

                // If clicking HOME, show home content and hide all sections
                if (targetId === 'home') {
                    if (homeContent) { // Check if homeContent exists
                        homeContent.classList.add('visible');
                    }
                    contentSections.forEach(section => {
                        section.classList.remove('active');
                    });
                    if (mainScrollableContentWrapper) { // Check if mainScrollableContentWrapper exists
                        mainScrollableContentWrapper.scrollTo({
                            top: 0,
                            behavior: 'smooth'
                        });
                    }
                } else {
                    // Update active link
                    navLinkElements.forEach(l => l.classList.remove('active'));
                    link.classList.add('active');

                    // Show target section
                    contentSections.forEach(section => {
                        if (section.id === targetId) {
                            section.classList.add('active');
                        } else {
                            section.classList.remove('active');
                        }
                    });
                    if (homeContent) { // Check if homeContent exists
                        homeContent.classList.remove('visible');
                    }

                    const targetSectionElement = document.getElementById(targetId);
                    if (targetSectionElement && mainScrollableContentWrapper) { // Check if both elements exist
                        setTimeout(() => {
                            const navHeight = navContainer ? navContainer.offsetHeight : 0; // Check if navContainer exists
                            mainScrollableContentWrapper.scrollTo({
                                top: targetSectionElement.offsetTop - navHeight,
                                behavior: 'smooth'
                            });
                        }, 100);
                    }
                }
            });
        });

        // Close button functionality
        const closeButtons = document.querySelectorAll('.close-btn');
        closeButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const targetSectionId = btn.getAttribute('data-target');
                const targetSectionElement = document.getElementById(targetSectionId);

                if (targetSectionElement) { // Check if targetSectionElement exists
                    targetSectionElement.classList.remove('active');
                }

                if (homeContent) { // Check if homeContent exists
                    homeContent.classList.add('visible');
                }

                navLinkElements.forEach(link => link.classList.remove('active'));

                if (mainScrollableContentWrapper) { // Check if mainScrollableContentWrapper exists
                    mainScrollableContentWrapper.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Contact form submission
        const contactForm = document.getElementById('contact-form');
        const formSuccess = document.querySelector('.form-success');

        if (contactForm && formSuccess) { // Check if both elements exist
            contactForm.addEventListener('submit', (e) => {
                e.preventDefault();
                formSuccess.classList.add('visible');
                contactForm.reset();
                setTimeout(() => {
                    formSuccess.classList.remove('visible');
                }, 5000);
            });
        }
        // Create enhanced water particles effect specifically around the title text
        function createWaterParticles() {
            const particlesContainer = document.getElementById('particles-container');
            const titleElement = document.querySelector('.home-title');

            // Add checks for existence for these elements
            if (!particlesContainer || !titleElement || !homeContent || !mainScrollableContentWrapper) {
                console.warn("Missing elements for water particles. Aborting createWaterParticles.");
                return;
            }

            // Clear existing particles
            particlesContainer.innerHTML = '';

            // Get title position and dimensions relative to the viewport
            const titleRect = titleElement.getBoundingClientRect();

            // Get the scroll position of the main-scrollable-content-wrapper
            const wrapperScrollTop = mainScrollableContentWrapper.scrollTop;
            const wrapperRect = mainScrollableContentWrapper.getBoundingClientRect();

            // Create particles around title text (more concentrated)
            for (let i = 0; i < 10; i++) {
                const particle = document.createElement('div');
                particle.classList.add('water-particle');

                // Calculate absolute position relative to the document
                const absoluteX = titleRect.left + Math.random() * titleRect.width - 10;
                const absoluteY = titleRect.top + Math.random() * titleRect.height - 5;

                // Convert to position relative to the particles-container, accounting for its offset
                // particles-container is inside home-content, which is inside main-scrollable-content-wrapper
                // The particles-container is absolutely positioned within home-content
                // So we need to calculate its position relative to the *home-content's* top-left,
                // and home-content's top-left is relative to the *scrollable wrapper's* content area.
                const homeContentRect = homeContent.getBoundingClientRect();

                const relativeX = absoluteX - homeContentRect.left + (Math.random() * 40 - 20);
                const relativeY = absoluteY - homeContentRect.top + (Math.random() * 20 - 10);


                particle.style.left = `${relativeX}px`;
                particle.style.top = `${relativeY}px`;

                // Random animation delay
                particle.style.animationDelay = `${Math.random() * 3}s`;

                particlesContainer.appendChild(particle);
            }
        }


        // Make all "Inquire Now" buttons redirect to contact form
        document.querySelectorAll('.book-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();

                // Hide all sections
                contentSections.forEach(section => {
                    section.classList.remove('active');
                });

                // Show contact section
                const contactSection = document.getElementById('contact');
                if (contactSection) { // Check if contactSection exists
                    contactSection.classList.add('active');
                }

                // Hide home content
                if (homeContent) { // Check if homeContent exists
                    homeContent.classList.remove('visible');
                }

                // Update active nav link
                navLinkElements.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === '#contact') {
                        link.classList.add('active');
                    }
                });

                // Scroll to the contact section within the scrollable wrapper
                const contactSectionElement = document.getElementById('contact');
                if (contactSectionElement && mainScrollableContentWrapper && navContainer) { // Check if elements exist
                    setTimeout(() => { // Small delay to allow element to become active/visible
                        const navHeight = navContainer.offsetHeight; // Nav container should exist if nav bar is present
                        mainScrollableContentWrapper.scrollTo({
                            top: contactSectionElement.offsetTop - navHeight,
                            behavior: 'smooth'
                        });
                    }, 100);
                }

                // Focus on subject field and pre-fill with "Accommodation Inquiry"
                setTimeout(() => {
                    const subjectField = document.getElementById('subject'); // Check if subjectField exists
                    if (subjectField) {
                        subjectField.value = "Accommodation Inquiry";
                        subjectField.focus();
                    }
                }, 100);
            });
        });

        function initScene() {
            const threeJsBackground = document.getElementById('threejs-background'); // Get the container
            if (!threeJsBackground) { // Check if container exists
                console.warn("Three.js background container not found. Skipping scene initialization.");
                return;
            }
            const container = document.createElement('div');
            threeJsBackground.appendChild(container); // Append to the background div

            const camera = new THREE.PerspectiveCamera(55, window.innerWidth/window.innerHeight, 1, 20000);
            camera.position.set(30, 30, 100);

            const scene = new THREE.Scene();
            const sun = new THREE.Vector3();

            // Water
            const waterGeom = new THREE.PlaneGeometry(10000, 10000);
            const water = new Water(waterGeom, {
                textureWidth: 512, textureHeight: 512,
                waterNormals: new THREE.TextureLoader().load('textures/waternormals.jpg', tex => {
                    tex.wrapS = tex.wrapT = THREE.RepeatWrapping;
                }),
                sunDirection: new THREE.Vector3(),
                sunColor: 0xffcc66, waterColor: 0x226666,
                distortionScale: 3.7, fog: false
            });
            water.rotation.x = -Math.PI/2;
            scene.add(water);

            // Sky
            const sky = new Sky();
            sky.scale.setScalar(10000);
            scene.add(sky);
            const uni = sky.material.uniforms;
            uni.turbidity.value = 10;
            uni.rayleigh.value = 2;
            uni.mieCoefficient.value = 0.005;
            uni.mieDirectionalG.value = 0.8;

            const phi = THREE.MathUtils.degToRad(90), theta = THREE.MathUtils.degToRad(180);
            sun.setFromSphericalCoords(1, phi, theta);
            uni.sunPosition.value.copy(sun);
            water.material.uniforms.sunDirection.value.copy(sun).normalize();

            // Renderer
            const renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            container.appendChild(renderer.domElement);

            // Controls
            const controls = new OrbitControls(camera, renderer.domElement);
            controls.maxPolarAngle = Math.PI*0.495;
            controls.minDistance = 40; controls.maxDistance = 200;
            controls.target.copy(sun.clone().multiplyScalar(100));
            controls.update();
            // --- ADDED: Disable zoom controls ---
            controls.enableZoom = false;
            // ------------------------------------

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth/window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
                // Re-create water particles on resize if home content is visible
                if (homeContent && homeContent.classList.contains('visible')) { // Check if homeContent exists
                    createWaterParticles();
                }
            });

            // Animate
            function animate() {
                requestAnimationFrame(animate);
                water.material.uniforms.time.value += 1/60;
                renderer.render(scene, camera);
            }
            animate();

            // Show navigation and home content after scene is initialized
            setTimeout(() => {
                if (navContainer) navContainer.classList.add('visible'); // Check if navContainer exists
                if (homeContent) { // Check if homeContent exists
                    homeContent.classList.add('visible'); // Keeps home-content visible by default
                    createWaterParticles();
                }
            }, 1000);
        }

        // Simulate loading progress
        const interval = setInterval(() => {
            progress = Math.min(100, progress + Math.random() * 10 + 5);

            const circumference = 2 * Math.PI * 45;
            if (prog) prog.style.strokeDashoffset = circumference * (1 - progress / 100); // Check if prog exists

            if (progress >= 100) {
                clearInterval(interval);

                // Fade out loading overlay
                if (overlay) overlay.classList.add('fade-out'); // Check if overlay exists

                setTimeout(() => {
                    // Remove loading overlay from DOM
                    if (overlay) overlay.remove(); // Check if overlay exists

                    // Initialize Three.js scene
                    initScene();

                    // Reveal page content with fade-in for the *scrollable wrapper*
                    if (pageContent) { // Check if pageContent exists
                        pageContent.setAttribute('aria-hidden', 'false');
                        pageContent.classList.add('visible'); // This now makes the content *wrapper* visible
                    }
                }, 1000); // Match the fade-out duration in CSS
            }
        }, 200);

        // Gallery implementation
        const galleryContainer = document.getElementById('gallery-container'); // Check if galleryContainer exists
        if (galleryContainer) { // Added a check for galleryContainer existence
            const galleryImages = [
                { src: 'images/beautiful-woman-yacht-swimwear.jpg', alt: 'Woman on yacht in Phuket waters' },
                { src: 'images/473599725_10160435212412175_501266893980304214_n.jpg', alt: 'Yacht sailing in Phuket' },
                { src: 'images/148872788_3169037883196037883196094_849598998136454814_n.jpg', alt: 'Yacht Club gathering' },
                { src: 'images/118274592_10157223767507175_1027198816200289080_n.jpg', alt: 'Sailing in Phuket' },
                { src: 'images/75380478_10156391073797175_4972174924367003648_n.jpg', alt: 'Yacht sailing' },
                { src: 'images/463398656_7798563456910157_6872878179612088792_n.jpg', alt: 'Seafood at the yacht club' },
                { src: 'images/468066240_10102904678842276_3997282509366841665_n.jpg', alt: 'Yacht club members' },
                { src: 'images/464508298_8693886117336396_5575655286860524176_n.jpg', alt: 'Sailing yacht' },
                { src: 'images/sailboat-414509_1280.jpg', alt: 'Sailboat at sunset' }
            ];

            // Populate gallery
            galleryImages.forEach(image => {
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item';

                const img = document.createElement('img');
                img.src = image.src;
                img.alt = image.alt;

                galleryItem.appendChild(img);
                galleryContainer.appendChild(galleryItem);

                // Lightbox functionality
                galleryItem.addEventListener('click', () => {
                    const lightbox = document.createElement('div');
                    lightbox.className = 'lightbox';

                    const lightboxImg = document.createElement('img');
                    lightboxImg.src = image.src;
                    lightboxImg.alt = image.alt;

                    lightbox.appendChild(lightboxImg);
                    document.body.appendChild(lightbox);

                    // Close lightbox on click
                    lightbox.addEventListener('click', () => {
                        lightbox.remove();
                    });
                });
            });
        }

        // ğŸ• Live Local Time Script (Moved from dashboard snippet)
        function updateLocalTime() {
            const now = new Date();
            const options = { timeZone: 'Asia/Bangkok', hour: '2-digit', minute: '2-digit', second: '2-digit' };
            const timeString = now.toLocaleTimeString('en-GB', options);
            const localTimeElement = document.getElementById('localTime');
            if (localTimeElement) { // Ensure element exists before updating
                localTimeElement.textContent = `Current Local Time: ${timeString}`;
            }
        }
        setInterval(updateLocalTime, 1000);
        updateLocalTime(); // Initial call

        // ğŸ” Auto-refresh all iframes every 15 minutes (Moved from dashboard snippet)
        setInterval(() => {
            document.querySelectorAll('.captain-widget iframe').forEach(iframe => { // Target only dashboard iframes
                iframe.src = iframe.src;
            });
        }, 15 * 60 * 1000); // 15 minutes

      </script>
</body>
</html>
